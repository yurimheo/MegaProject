<!DOCTYPE html>
<html
  lang="ko"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  layout:decorate="~{admin_layout}"
>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원 관리</title>
    <!-- 부트스트랩 CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="../static/css/bootstrap.min.css"
    />
    <!-- 사용자 정의 CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="../static/css/style_admin.css"
    />
  </head>
  <body>
    <div class="share-container container">
      <!-- 헤더 시작 -->
      <div
        class="p-3 d-flex justify-content-between mx-auto p-2 border-bottom border-4 border-dark"
      >
        <span class="w-75 d-flex">
          <span class="fs-1 fw-semibold text-warning">메가MGC커피&nbsp;</span>
          <span class="admin-title fs-1 fw-semibold">관리자 페이지</span></span
        >
        <!-- 페이지 카테고리 확인 문구 -->
        <span class="d-flex align-content-center flex-wrap">
          <span class="admin-title fw-bolder">관리자 페이지 &gt;&nbsp;</span>
          <span
            th:if="${pageName eq '회원관리 타임리프'}"
            class="fw-semibold text-warning"
          >
            회원 관리
          </span>
          <!-- <span
            th:if="${pageName eq '상품관리 타임리프'}"
            class="fw-semibold text-warning"
          >
            상품 관리
          </span>
          <span
            th:if="${pageName eq '주문관리 타임리프'}"
            class="fw-semibold text-warning"
          >
            주문 관리
          </span>
          <span
            th:if="${pageName eq '공지관리 타임리프'}"
            class="fw-semibold text-warning"
          >
            공지사항 관리
          </span> -->
        </span>
      </div>
      <!-- 헤더 끝 -->

      <!-- 네비게이션 탭 시작 -->
      <nav class="share-nav nav nav-fill mt-2">
        <a class="share-nav-link nav-link" aria-current="page" href="#"
          >회원 관리</a
        >
        <a class="share-nav-link nav-link" href="#">상품 관리</a>
        <a class="share-nav-link nav-link" href="#">주문 관리</a>
        <a class="nav-link" href="#">공지 관리</a>
      </nav>
      <!-- 네비게이션 탭 끝 -->
      <!-- 멤버 조회 검색창 시작 -->
      <div class="border p-2">
        <div class="mt-1 d-flex dropdown mM-dropdown">
          <button
            class="h-25 btn btn-outline-secondary dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
          >
            조회 옵션 선택
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">회원명</a></li>
            <li><a class="dropdown-item" href="#">아이디</a></li>
            <li><a class="dropdown-item" href="#">회원명 + 아이디</a></li>
          </ul>
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control"
              placeholder="검색하실 회원의 이름이나 아이디를 입력해주세요."
              aria-label="회원의 이름이나 아이디를 입력하세요"
            />
            <button
              class="share-submit-btn btn btn-outline-secondary"
              type="button"
            >
              조회
            </button>
          </div>
        </div>
        <!-- 멤버 조회 검색창 끝 -->
        <!-- 구분선 시작 -->
        <div class="border border-top border-dark"></div>
        <!-- 구분선 끝 -->
        <!-- 회원 수 및 선택 삭제 버튼 시작 -->
        <div class="mt-2 d-flex flex-wrap justify-content-between">
          <p
            class="member-count"
            th:text="'회원 총 (' + ${#lists.size(members)} + ')명'"
          >
            회원 총 0명
          </p>
          <div class="position-relaltive">
            <button
              type="button"
              class="mM-delete-btn btn"
              data-bs-toggle="tooltip"
              data-bs-placement="top"
              data-bs-custom-class="custom-tooltip"
              data-bs-title="선택하신 회원 명단을 모두 삭제 가능합니다."
            >
              <img
                class="minus-button"
                src="../static/images/icons/minus-button.png"
                alt=""
              />
              선택 삭제
            </button>
          </div>
        </div>
        <!-- 회원 수 및 선택 삭제 버튼 끝 -->
        <!-- 회원 목록 시작 -->
        <table class="member-table table table-bordered">
          <thead class="member-thead">
            <tr class="tr text-center">
              <th scope="col"></th>
              <!-- 체크박스 -->
              <th scope="col">아이디</th>
              <th scope="col">이름</th>
              <th scope="col">이메일</th>
              <th scope="col">연락처</th>
              <th scope="col">가입일</th>
              <th scope="col">회원상세조회</th>
            </tr>
          </thead>
          <tbody>
            <!-- 회원 목록 반복 -->
            <tr class="text-center" th:each="member : ${members}">
              <!-- 체크박스 -->
              <td>
                <input
                  type="checkbox"
                  th:id="'checkbox_' + ${member.member_id}"
                />
              </td>
              <!-- 아이디, 이름, 이메일, 연락처, 가입일 -->
              <td th:text="${member.member_id}"></td>
              <td th:text="${member.member_name}"></td>
              <td th:text="${member.member_email}"></td>
              <td th:text="${member.member_phone}"></td>
              <td th:text="${member.member_join_datetime}"></td>
              <!-- 회원상세조회 버튼 -->
              <td>
                <button class="member-detail-btn">
                  <a
                    th:href="@{/member/details/{id}(id=${member.member_id})}"
                    class="p-0 member-detail"
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    data-bs-custom-class="custom-tooltip"
                    data-bs-title="클릭하시면 상세조회 페이지로 이동합니다."
                    >상세조회</a
                  >
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- 회원 목록 끝 -->
    </div>
    <!-- 부트스트랩 JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
      crossorigin="anonymous"
    ></script>
    <!--  사용자 정의 JS -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="../static/js/admin.js"></script>
  </body>
</html>
